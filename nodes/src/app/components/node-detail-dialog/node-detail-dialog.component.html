<div class="dialog-wrapper">
  <header>
    <nav class="breadcrumbs">
      <span>{{ data.mainTopic }}</span>
      <span class="separator">›</span>
      <span>{{ data.subTopic }}</span>
    </nav>
    <div class="header-actions">
      <time>{{ data.createdAt | date : "dd.MM.yyyy" }}</time>

      <button class="close-button" (click)="close()">
        <svg width="24" height="24" viewBox="0 0 24 24">
          <path
            d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
          />
        </svg>
      </button>
    </div>
  </header>

  <main>
    @if (!isEditing()) {
    <h1>{{ data.title }}</h1>
    <p class="description">{{ data.description }}</p>
    } @else {
    <form [formGroup]="editForm">
      <input
        type="text"
        formControlName="title"
        class="title-input"
        placeholder="Titel eingeben"
      />
      <textarea
        formControlName="description"
        class="description-input"
        placeholder="Beschreibung eingeben"
        rows="6"
      >
      </textarea>
    </form>
    }
  </main>

  <footer>
    @if (!isEditing()) {
    <button class="edit-button" (click)="startEditing()">Bearbeiten</button>
    <button class="delete-button" (click)="deleteEntry()">Löschen</button>
    } @else {
    <button class="save-button" (click)="saveChanges()">Speichern</button>
    <button class="cancel-button" (click)="cancelEditing()">Verwerfen</button>
    }
  </footer>
</div>
